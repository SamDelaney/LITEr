(this.webpackJsonplite2=this.webpackJsonplite2||[]).push([[0],{100:function(e){e.exports=JSON.parse('{"interlinearDisplay":{"output":["Output","Salida","Production"],"input":["Input","Entrada","Contribution"],"copy":["Copy to Clipboard","Copiar al Portapapeles","Copier dans le Presse-papier"],"copyMessages":{"error":["Something went wrong","Algo sali\xf3 mal","Quelque chose a mal tourn\xe9"],"success":["Phrase copied to clipboard","Frase copiada al portapapeles","Phrase copi\xe9e dans le presse-papiers"]}},"pickDataSource":{"dataSource":["Data Source","Fuente de Datos","La Source de Donn\xe9es"],"addDataSource":["Upload Data Source","Subir fuente de datos","T\xe9l\xe9charger la source de donn\xe9es"]},"pickFormatStyle":{"formatStyle":["Format Style","Estilo de formato","Style de format"],"createFormatStyle":["Create Format Style","Crear estilo de formato","Cr\xe9er un style de format"]},"referenceSelect":{"languageNameSelect":["Language Name","Nombre del lenguaje","Nom de la langue"],"dataSourceRefSelect":["Data Source Reference","Referencia de fuente de datos","R\xe9f\xe9rence de la source de donn\xe9es"],"name":["Name","Nombre","Nom"],"noneOption":["None","Nada","Rien"],"firstOption":["First Line","Primera linea","Premi\xe8re ligne"],"rightOption":["On Right","A la derecha","Sur la droite"]},"FESwitches":{"literalTranslation":["Include Literal Translation","Incluir traducci\xf3n literal","Inclure la traduction litt\xe9rale"],"notes":["Include Notes","Incluir notas","Inclure des notes"],"ungrammatical":["Mark Ungrammatical","Marca no gramatical","Marquer non grammatical"]},"menuDrawer":{"settings":["Settings","Configuraciones","R\xe9glages"],"history":["History","Historia","Histoire"],"convert":["Convert Text","Convertir texto","Convertir du texte"],"styles":["Format Styles","Estilos de formato","Styles de format"]},"settingsPage":{"language":["Language","Lengua","Langue"],"title":["Settings","Configuraciones","R\xe9glages"]}}')},116:function(e,t,a){e.exports=a(155)},122:function(e,t,a){},152:function(e,t,a){},155:function(e,t,a){"use strict";a.r(t),a.d(t,"localizedLanguages",(function(){return Je}));var n,r=a(0),l=a.n(r),o=a(9),c=a.n(o),i=a(89),s=(a(122),a(28)),u=a(42),m=a(7),p=a(191),d=a(195),E=a(196),h=a(95),g=a(197),f=a(198);!function(e){e.ADD_SOURCE="ADD_SOURCE",e.SELECT_SOURCE="SELECT_SOURCE"}(n||(n={}));var v,b=Object(m.d)((function(){var e=Object(u.c)((function(e){return e.picksource})),t=Object(u.b)(),a=function(e){try{if("function"!==typeof window.FileReader)throw Error("The file API isn't supported on this browser.");var a=e.target;if(!a)throw Error("The browser does not properly implement the event object");if(!a.files)throw Error("This browser does not support the `files` property of the file input.");if(!a.files[0])return;var r=a.files[0],l=new FileReader;l.onload=function(){var e;t((e={filename:r.name,flextext:l.result},{type:n.ADD_SOURCE,payload:e}))},l.readAsText(r)}catch(o){console.log(o.message)}};return l.a.createElement(p.a,{maxWidth:"sm"},l.a.createElement(d.a,{container:!0},l.a.createElement(d.a,{item:!0,xs:6},l.a.createElement(E.a,null,l.a.createElement(h.a,{value:e.currentSource,onChange:function(e){var a;t((a=e.target.value,{type:n.SELECT_SOURCE,payload:a}))},inputProps:{name:"currentSource"}},e.sources.map((function(e){return l.a.createElement("option",{value:e.filename},e.filename)}))),l.a.createElement(g.a,null," ",l.a.createElement(m.b,{id:"pickDataSource.dataSource"})," "))),l.a.createElement(d.a,{item:!0,xs:6},l.a.createElement(f.a,{variant:"contained",component:"label"},l.a.createElement(m.b,{id:"pickDataSource.addDataSource"}),l.a.createElement("input",{type:"file",style:{display:"none"},id:"fileInput",accept:".flextext",onChange:function(e){return a(e)}})))))})),y=a(199),S=a(227),O=a(200),w=a(201),x=a(58),C=a(159),j=a(226),L=a(223),k=a(96),T=a.n(k),D=a(97),F=a(98),N=a(99),R=a.n(N),I='<?xml version="1.0" encoding="utf-8"?>\n    <document version="2">\n    <interlinear-text guid="dcca1a8a-95bf-4814-897e-6587e7a2e75d">\n    <paragraphs>\n    <paragraph>\n    <phrases>\n    <phrase>',M="</phrase>\n    </phrases>\n    </paragraph>\n    </paragraphs>\n    </interlinear-text>\n    </document>",P=["Word","Morphemes","Lex.Entries","Lex.Gloss","Lex.Gram.Info","WordGloss","WordCat.","Free","Lit."];!function(e){e.CitationForm="morphcf",e.Gloss="morphgls",e.HN="morphhn",e.GramInfo="morphmsa",e.Category="morphpos",e.Text="morphtxt",e.Literal="phraselit",e.Note="phrasenote",e.Punctuation="wordpunct",e.Word="wordtxt",e.WordCat="wordcat",e.Free="phrasegls"}(v||(v={}));var A=function(){function e(t){if(Object(D.a)(this,e),this.xml=void 0,this.phrases=void 0,this.cliplines=void 0,this.xml=t,"string"!==typeof this.xml)this.phrases=void 0;else{var a=(new DOMParser).parseFromString(t,"text/xml");this.phrases=Array.prototype.slice.apply(null===a||void 0===a?void 0:a.getElementsByTagName("phrase"))}this.cliplines=[]}return Object(F.a)(e,[{key:"getPhrase",value:function(e){return this.cliplines=e.split("\n"),this.phrases?I+this.getMatch()+M:""}},{key:"formatInput",value:function(){var e=this;this.cliplines.forEach((function(t,a){var n=(t=t.split(" ").join("")).split("\t");n.shift(),n.length>=1&&P.includes(n[0])&&n.shift(),e.cliplines[a]=n.join("")}))}},{key:"getMatch",value:function(){return!this.phrases||this.phrases.length<1?"":1===this.phrases.length?this.phrases[0].innerHTML:(this.parseByIndex(),1===this.phrases.length||(this.formatInput(),this.parseByContent()),this.phrases[0].innerHTML)}},{key:"parseByIndex",value:function(){if(this.phrases){var e=parseFloat(this.cliplines[0].split("\t")[0]),t=[];this.phrases.forEach((function(a){var n,r=null===(n=a.firstElementChild)||void 0===n?void 0:n.innerHTML;r&&parseFloat(r)===e&&t.push(a)})),t.length>=1&&(this.phrases=t)}}},{key:"parseByContent",value:function(){var e,t=this,a={index:0,score:1e4};null===(e=this.phrases)||void 0===e||e.forEach((function(e,n){var r=new Map([]);Array.prototype.slice.apply(e.getElementsByTagName("item")).forEach((function(e){var t,a=(null===(t=e.parentElement)||void 0===t?void 0:t.nodeName)+e.getAttribute("type"),n=r.get(a);n?r.set(a,n+e.innerHTML):r.set(a,e.innerHTML)}));var l=t.getLineScore(r);l<a.score&&(a={index:n,score:l})})),this.phrases&&(this.phrases=[this.phrases[a.index]])}},{key:"getLineScore",value:function(e){var t=this,a=[];return e.forEach((function(e){t.cliplines.forEach((function(t){a.push(R.a.get(t,e))}))})),Math.min.apply(Math,a)}}]),e}();function W(e){return l.a.createElement(L.a,Object.assign({elevation:6,variant:"filled"},e))}var H=Object(y.a)((function(e){return Object(S.a)({outputField:{fontSize:"55%",minHeight:"12vh"}})}));var B=Object(m.d)((function(){var e=Object(u.c)((function(e){return e})),t=l.a.useState({open:!1,status:"success"}),a=Object(s.a)(t,2),n=a[0],r=a[1],o=H(),c=function(e,t){"clickaway"!==t&&r({open:!1,status:n.status})};return l.a.createElement(p.a,{maxWidth:"sm"},l.a.createElement(b,null),l.a.createElement(O.a,{variant:"outlined"},l.a.createElement(w.a,null,l.a.createElement(x.a,null,l.a.createElement(m.b,{id:"interlinearDisplay.input"})),l.a.createElement(C.a,{multiline:!0,rows:4,fullWidth:!0,inputProps:{"aria-label":"naked"},onChange:function(t){try{var a,n=t.target.value||"";if(""===n)return;var r=document.URL.replace("#/","/"),l=null===(a=e.picksource.sources.find((function(t){return t.filename===e.picksource.currentSource})))||void 0===a?void 0:a.flextext;if("string"!==typeof l)throw Error("File contents could not be read.");T.a.get(r+"xml2LeipzigLITE2.xsl").then((function(e){var t=new XSLTProcessor,a=new DOMParser,r=new A(l);t.importStylesheet(a.parseFromString(e.data,"text/xml"));var c=t.transformToDocument(a.parseFromString(r.getPhrase(n),"text/xml"));document.getElementsByClassName(o.outputField)[0].innerHTML=c.documentElement.innerHTML}))}catch(t){console.log(t.message)}}}))),l.a.createElement(O.a,{variant:"outlined"},l.a.createElement(w.a,null,l.a.createElement(x.a,null,l.a.createElement(m.b,{id:"interlinearDisplay.output"})),l.a.createElement("div",{className:o.outputField}))),l.a.createElement(f.a,{onClick:function(){var e=document.getElementsByClassName(o.outputField)[0],t=document.createRange();t.selectNode(e);try{var a;null===(a=window.getSelection())||void 0===a||a.addRange(t);var n=document.execCommand("copy")?"success":"error";r({open:!0,status:n})}catch(l){r({open:!0,status:"error"})}}}," ",l.a.createElement(m.b,{id:"interlinearDisplay.copy"})," "),l.a.createElement(j.a,{open:n.open,autoHideDuration:6e3,onClose:c},l.a.createElement(W,{onClose:c,severity:n.status},l.a.createElement(m.b,{id:"interlinearDisplay.copyMessages."+n.status}))))})),U=a(48),G=a(19),_=a(203),z=a(157),J=a(32);var q=Object(m.d)((function(){var e=l.a.useState({formatStyle:""}),t=Object(s.a)(e,2),a=t[0],n=t[1];return l.a.createElement(p.a,{maxWidth:"sm"},l.a.createElement(E.a,null,l.a.createElement(h.a,{value:a.formatStyle,onChange:function(e){var t=e.target.name;n(Object(G.a)(Object(G.a)({},a),{},Object(U.a)({},t,e.target.value)))},inputProps:{name:"formatStyle"}},l.a.createElement("option",{value:1},"3-line GSRL Standard"),l.a.createElement("option",{value:2},"4-line GSRL Standard")),l.a.createElement(g.a,null," ",l.a.createElement(m.b,{id:"pickFormatStyle.formatStyle"})," ")),l.a.createElement(z.a,{"aria-label":"create",component:J.b,to:"/styles"},l.a.createElement(_.a,null)))})),Q=a(204),X=a(228),$=a(206),K=a(224),V=a(221);var Y=Object(m.d)((function(e){var t=l.a.useState({referenceName:""}),a=Object(s.a)(t,2);return a[0],a[1],l.a.createElement(p.a,{maxWidth:"sm"},l.a.createElement(Q.a,null,l.a.createElement(m.b,{id:"referenceSelect."+e.selectLabel})," "),l.a.createElement(d.a,{container:!0},l.a.createElement(d.a,{item:!0,xs:6},l.a.createElement(X.a,null,l.a.createElement($.a,{value:"first",control:l.a.createElement(K.a,null),label:l.a.createElement(m.b,{id:"referenceSelect.firstOption"})}),l.a.createElement($.a,{value:"right",control:l.a.createElement(K.a,null),label:l.a.createElement(m.b,{id:"referenceSelect.rightOption"})}),l.a.createElement($.a,{value:"none",control:l.a.createElement(K.a,null),label:l.a.createElement(m.b,{id:"referenceSelect.noneOption"})}))),l.a.createElement(d.a,{item:!0,xs:6},l.a.createElement(V.a,{label:l.a.createElement(m.b,{id:"referenceSelect.name"})}))))})),Z=a(205),ee=a(208);var te=Object(m.d)((function(){return l.a.createElement(p.a,{maxWidth:"sm"},l.a.createElement(Z.a,{row:!0},l.a.createElement($.a,{value:"lit",control:l.a.createElement(ee.a,null),label:l.a.createElement(m.b,{id:"FESwitches.literalTranslation"})}),l.a.createElement($.a,{value:"notes",control:l.a.createElement(ee.a,null),label:l.a.createElement(m.b,{id:"FESwitches.notes"})}),l.a.createElement($.a,{value:"ungramm",control:l.a.createElement(ee.a,null),label:l.a.createElement(m.b,{id:"FESwitches.ungrammatical"})})))}));var ae=Object(m.d)((function(){return l.a.createElement(p.a,{maxWidth:"sm"},l.a.createElement(q,null),l.a.createElement(Y,{selectLabel:"languageNameSelect"}),l.a.createElement(Y,{selectLabel:"dataSourceRefSelect"}),l.a.createElement(te,null))}));var ne=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"MainRow"},l.a.createElement(B,null),l.a.createElement(ae,null)))},re=a(105),le=Object(y.a)((function(e){return Object(S.a)({paper:{borderRadius:15,padding:40,margin:20,width:"55%"}})}));var oe,ce=Object(m.d)((function(e){var t=le(),a=l.a.useState({language:e.activeLanguage.code}),n=Object(s.a)(a,2),r=n[0],o=n[1];return l.a.createElement(re.a,{variant:"outlined",className:t.paper},l.a.createElement("h1",null,l.a.createElement(m.b,{id:"settingsPage.title"})),l.a.createElement(E.a,null,l.a.createElement(Q.a,null,l.a.createElement(m.b,{id:"settingsPage.language"})),l.a.createElement(h.a,{onChange:function(t){var a=t.target.name;o(Object(G.a)(Object(G.a)({},r),{},Object(U.a)({},a,t.target.value))),e.setActiveLanguage(t.target.value),localStorage.setItem("language",t.target.value)},inputProps:{name:"language"},value:r.language},Je.map((function(e){return l.a.createElement("option",{value:e.code},e.name)})))))}));!function(e){e.SET_LANGUAGE="SET_LANGUAGE"}(oe||(oe={}));var ie=ce;var se=function(){return l.a.createElement("div",null,l.a.createElement("h1",null," History Page Placeholder "),"LITEr is under development. Check back later for more updates!")};var ue=function(){return l.a.createElement("div",null,l.a.createElement("h1",null," Format Styles Placeholder"),"LITEr is under development. Check back later for more updates!")},me=(a(152),a(37)),pe=a(209),de=a(210),Ee=a(225),he=a(207),ge=a(214),fe=a(215),ve=a(217),be=a(220),ye=a(211),Se=a(212),Oe=a(213),we=a(216),xe=a(218),Ce=a(219),je=Object(y.a)((function(e){return Object(S.a)({appBar:{position:"relative",zIndex:e.zIndex.drawer+1},title:{flexGrow:1},drawer:{width:240},menuButton:{marginRight:e.spacing(2)}})}));var Le=Object(m.d)((function(){var e,t=je(),a=l.a.useState({drawerOpen:!1}),n=Object(s.a)(a,2),r=n[0],o=n[1];return l.a.createElement(l.a.Fragment,null,l.a.createElement(pe.a,{position:"static",className:t.appBar},l.a.createElement(de.a,null,l.a.createElement(z.a,{edge:"start",color:"inherit","aria-label":"menu",onClick:(e=!r.drawerOpen,function(t){("keydown"!==t.type||"Tab"!==t.key&&"Shift"!==t.key)&&o(Object(G.a)(Object(G.a)({},r),{},{drawerOpen:e}))})},l.a.createElement(ye.a,null)),l.a.createElement(x.a,{variant:"h6",color:"inherit",className:t.title},"LITEr"),l.a.createElement(z.a,{"aria-label":"account",color:"inherit"},l.a.createElement(Se.a,null)),l.a.createElement(z.a,{edge:"end","aria-label":"settings",color:"inherit",component:J.b,to:"/settings"},l.a.createElement(Oe.a,null)))),l.a.createElement(Ee.a,{variant:"persistent",open:r.drawerOpen,className:t.drawer,classes:{paper:t.drawer}},l.a.createElement(de.a,null),l.a.createElement(he.a,null,l.a.createElement(ge.a,{button:!0,key:"convert",component:J.b,to:"/"},l.a.createElement(fe.a,null,l.a.createElement(we.a,null)),l.a.createElement(ve.a,{primary:l.a.createElement(m.b,{id:"menuDrawer.convert"})})),l.a.createElement(ge.a,{button:!0,key:"styles",component:J.b,to:"/styles"},l.a.createElement(fe.a,null,l.a.createElement(xe.a,null)),l.a.createElement(ve.a,{primary:l.a.createElement(m.b,{id:"menuDrawer.styles"})})),l.a.createElement(ge.a,{button:!0,key:"history",component:J.b,to:"/history"},l.a.createElement(fe.a,null,l.a.createElement(Ce.a,null)),l.a.createElement(ve.a,{primary:l.a.createElement(m.b,{id:"menuDrawer.history"})})),l.a.createElement(be.a,null),l.a.createElement(ge.a,{button:!0,key:"settings",component:J.b,to:"/settings"},l.a.createElement(fe.a,null,l.a.createElement(Oe.a,null)),l.a.createElement(ve.a,{primary:l.a.createElement(m.b,{id:"menuDrawer.settings"})})))))}));var ke=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(J.a,{basename:"/"},l.a.createElement(Le,null),l.a.createElement("div",{className:"App-header"},l.a.createElement(me.a,{path:"/",exact:!0,component:ne}),l.a.createElement(me.a,{path:"/settings",exact:!0,component:ie}),l.a.createElement(me.a,{path:"/history",exact:!0,component:se}),l.a.createElement(me.a,{path:"/styles",exact:!0,component:ue}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Te=a(100),De=a(101),Fe=a(23),Ne=a(75),Re=a(102),Ie=a.n(Re),Me=a(103),Pe=a(104),Ae={sources:[{filename:"No Available Sources",flextext:""}],currentSource:"No Available Sources"},We=function(e,t){if("undefined"===typeof e)return Ae;switch(t.type){case n.SELECT_SOURCE:return e.currentSource=t.payload,Object(G.a)({},e);case n.ADD_SOURCE:return e.sources.push(t.payload),e.currentSource=t.payload.filename,Object(G.a)({},e);default:return e}},He={darkThemeOn:!1},Be=Object(Fe.combineReducers)({localize:m.c,temp:function(e,t){return"undefined"===typeof e&&(e=He),e},picksource:We}),Ue={key:"root",storage:Ie.a},Ge=Object(Ne.a)(Ue,Be),_e=Object(Fe.createStore)(Ge,Object(Pe.composeWithDevTools)(Object(Fe.applyMiddleware)(Me.a))),ze=Object(Ne.b)(_e),Je=[{name:"English",code:"en"},{name:"Espa\xf1ol",code:"es"},{name:"Fran\xe7ais",code:"fr"}],qe=void 0!==Je.find((function(e){return e.code===navigator.language}))?navigator.language:"en",Qe={languages:Je,translation:Te,options:{renderToStaticMarkup:i.renderToStaticMarkup,defaultLanguage:localStorage.getItem("language")||qe}};c.a.render(l.a.createElement(u.a,{store:_e},l.a.createElement(De.a,{loading:null,persistor:ze},l.a.createElement(m.a,{initialize:Qe},l.a.createElement(ke,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[116,1,2]]]);
//# sourceMappingURL=main.4d51ecc8.chunk.js.map